<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Stealth Client v5</title>
    <style>
        :root { --main: #5865f2; --bg: #0a0a0a; --win: #121212; --brd: #222; }
        body { background: #050505; color: #eee; font-family: sans-serif; margin: 0; overflow: hidden; touch-action: none; }

        /* HUD & PANIC */
        #hud { position: fixed; top: 10px; left: 10px; pointer-events: none; }
        .hud-mod { color: var(--main); font-weight: bold; font-size: 14px; text-transform: uppercase; }
        #panic-btn { position: fixed; top: 10px; right: 10px; background: #ff4444; color: white; border: none; padding: 10px; border-radius: 4px; font-weight: bold; cursor: pointer; z-index: 1000; }

        /* TOP BAR */
        #top { position: absolute; top: 50px; width: 100%; display: flex; justify-content: center; gap: 10px; }
        .box { background: var(--win); border: 1px solid var(--brd); padding: 8px; border-radius: 4px; }
        input[type="text"] { background: transparent; border: none; color: white; outline: none; width: 140px; }

        /* GUI WINDOWS */
        .window { position: absolute; width: 170px; background: var(--win); border: 1px solid var(--brd); border-radius: 4px; z-index: 10; }
        .head { background: #000; padding: 12px; text-align: center; font-size: 11px; font-weight: bold; cursor: move; border-bottom: 2px solid var(--main); }
        .list { display: block; }
        .mod { padding: 12px; font-size: 12px; color: #777; border-bottom: 1px solid #1a1a1a; cursor: pointer; position: relative; }
        .mod.on { color: white; background: var(--main); }

        /* MODAL */
        .modal { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 300px; background: #0f0f0f; border: 1px solid var(--main); padding: 20px; display: none; z-index: 2000; border-radius: 8px; }
        .row { display: flex; justify-content: space-between; margin: 10px 0; font-size: 13px; align-items: center; }
        .btn { background: var(--main); border: none; color: white; width: 100%; padding: 10px; border-radius: 4px; margin-top: 10px; }
        .overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); display: none; z-index: 1500; }

        /* FRIENDS */
        .f-tag { background: var(--main); padding: 2px 6px; border-radius: 4px; margin: 2px; display: inline-block; font-size: 11px; }
    </style>
</head>
<body>

    <button id="panic-btn" onclick="simulateKick()">SERVER KICK (PANIC)</button>
    <div id="hud"></div>
    <div class="overlay" id="blur" onclick="closeAll()"></div>
    
    <div id="top">
        <div class="box"><input type="text" placeholder="Suchen..." onkeyup="search(this.value)"></div>
        <div class="box" onclick="openFriends()" style="cursor:pointer; color:var(--main)">FRIENDS</div>
    </div>

    <div class="modal" id="set-win">
        <h3 id="set-name" style="color:var(--main); margin-top:0;">Settings</h3>
        <div id="set-body"></div>
        <button class="btn" onclick="closeAll()">SAVE</button>
    </div>

    <div class="modal" id="f-win">
        <h3 style="color:var(--main); margin-top:0;">FRIENDS</h3>
        <input type="text" id="f-in" style="background:#1a1a1a; width:70%; padding:5px;">
        <button onclick="addF()" style="padding:5px;">ADD</button>
        <div id="f-list" style="margin-top:10px;"></div>
        <button class="btn" onclick="closeAll()">CLOSE</button>
    </div>

    <script>
        // JEDER CHEAT HAT NUN EIGENE SETTINGS
        const cheats = {
            "Combat": [
                { id: "aura", name: "KillAura", sets: { Range: 4.2, CPS: 12, Mode: ["Switch", "Single"], Blocking: true } },
                { id: "velo", name: "Velocity", sets: { Horizontal: 0, Vertical: 0, Chance: 100 } },
                { id: "reach", name: "Reach", sets: { Distance: 3.5, Misplace: false } }
            ],
            "Movement": [
                { id: "fly", name: "Fly", sets: { Speed: 1.5, Mode: ["Vanilla", "Grim", "AAC"], Verus: false } },
                { id: "speed", name: "Speed", sets: { Speed: 0.6, "Auto Jump": true, Mode: ["Bhop", "Strafe"] } },
                { id: "long", name: "LongJump", sets: { Boost: 2.5, "Timer Boost": 1.2 } }
            ],
            "Visuals": [
                { id: "esp", name: "ESP", sets: { Players: true, Friends: true, Mobs: false, Box: true, Tracers: false, Color: "#5865f2" } },
                { id: "chams", name: "Chams", sets: { Red: 255, Green: 255, Blue: 255, Alpha: 100 } },
                { id: "xray", name: "X-Ray", sets: { Diamonds: true, Gold: true, Iron: false, Opacity: 100 } }
            ],
            "Player": [
                { id: "scaf", name: "Scaffold", sets: { Expand: 1, Tower: true, "Safe Walk": true, Delay: 50 } },
                { id: "tool", name: "AutoTool", sets: { Weapons: true, "Fast Switch": true } }
            ]
        };

        let active = new Set();
        let friends = [];
        let values = {}; // Hier liegen die User-Einstellungen

        function build() {
            let x = 20, y = 100;
            for (let cat in cheats) {
                let w = document.createElement('div');
                w.className = 'window';
                w.style.left = x + 'px'; w.style.top = y + 'px';
                
                let h = document.createElement('div');
                h.className = 'head';
                h.textContent = cat.toUpperCase();
                h.onclick = () => { let l = w.querySelector('.list'); l.style.display = l.style.display === 'none' ? 'block' : 'none'; };
                
                let l = document.createElement('div');
                l.className = 'list';
                
                cheats[cat].forEach(c => {
                    values[c.id] = c.sets;
                    let m = document.createElement('div');
                    m.className = 'mod';
                    m.id = "btn-" + c.id;
                    m.textContent = c.name;
                    
                    let touch;
                    m.ontouchstart = () => touch = Date.now();
                    m.ontouchend = () => { if(Date.now()-touch > 600) openSettings(c.id, c.name); else toggle(c.id); };
                    m.onclick = () => toggle(c.id);
                    m.ondblclick = () => openSettings(c.id, c.name);
                    
                    l.appendChild(m);
                });
                
                w.appendChild(h); w.appendChild(l);
                document.body.appendChild(w);
                drag(w, h);
                x += 180;
            }
        }

        function toggle(id) {
            let el = document.getElementById("btn-" + id);
            if(active.has(id)) { active.delete(id); el.classList.remove('on'); }
            else { active.add(id); el.classList.add('on'); }
            updateHUD();
        }

        function simulateKick() {
            active.clear();
            document.querySelectorAll('.mod').forEach(m => m.classList.remove('on'));
            updateHUD();
            alert("SERVER KICK: Alle Module deaktiviert!");
        }

        function openSettings(id, name) {
            document.getElementById('set-name').textContent = name;
            let b = document.getElementById('set-body');
            b.innerHTML = '';
            
            let s = values[id];
            for(let key in s) {
                let r = document.createElement('div');
                r.className = 'row';
                r.innerHTML = `<span>${key}</span>`;
                
                let val = s[key];
                let input;
                
                if(typeof val === 'number') {
                    input = document.createElement('input');
                    input.type = 'range'; input.min = 0; input.max = 20; input.step = 0.1;
                    input.value = val;
                    input.oninput = (e) => s[key] = parseFloat(e.target.value);
                } else if(typeof val === 'boolean') {
                    input = document.createElement('input');
                    input.type = 'checkbox'; input.checked = val;
                    input.onchange = (e) => s[key] = e.target.checked;
                } else if(Array.isArray(val)) {
                    input = document.createElement('select');
                    val.forEach(o => { let opt = document.createElement('option'); opt.value = o; opt.textContent = o; input.appendChild(opt); });
                } else if(key === "Color") {
                    input = document.createElement('input');
                    input.type = 'color'; input.value = val;
                    input.oninput = (e) => s[key] = e.target.value;
                }
                
                r.appendChild(input);
                b.appendChild(r);
            }
            document.getElementById('set-win').style.display = 'block';
            document.getElementById('blur').style.display = 'block';
        }

        function updateHUD() {
            let h = document.getElementById('hud');
            h.innerHTML = Array.from(active).map(id => `<div class="hud-mod">${id}</div>`).join('');
        }

        function openFriends() { document.getElementById('f-win').style.display = 'block'; document.getElementById('blur').style.display = 'block'; }
        function addF() { let i = document.getElementById('f-in'); if(i.value) { friends.push(i.value); i.value = ''; renderF(); } }
        function renderF() { document.getElementById('f-list').innerHTML = friends.map(f => `<span class="f-tag">${f}</span>`).join(''); }
        function closeAll() { document.querySelectorAll('.modal').forEach(m => m.style.display = 'none'); document.getElementById('blur').style.display = 'none'; }

        function drag(w, h) {
            let d = false, ox, oy;
            const start = (e) => { d = true; let c = e.touches ? e.touches[0] : e; ox = c.clientX-w.offsetLeft; oy = c.clientY-w.offsetTop; };
            const move = (e) => { if(!d) return; let c = e.touches ? e.touches[0] : e; w.style.left = (c.clientX-ox)+'px'; w.style.top = (c.clientY-oy)+'px'; };
            const stop = () => d = false;
            h.addEventListener('mousedown', start); h.addEventListener('touchstart', start);
            window.addEventListener('mousemove', move); window.addEventListener('touchmove', move);
            window.addEventListener('mouseup', stop); window.addEventListener('touchend', stop);
        }

        build();
    </script>
</body>
</html>
