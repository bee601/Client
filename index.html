<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Stealth Client | Professional Web GUI</title>
    <style>
        :root {
            --main: #5865f2;
            --bg: #050505;
            --win-bg: #0f0f0f;
            --header: #000000;
            --border: #1a1a1a;
            --accent-glow: rgba(88, 101, 242, 0.3);
        }

        body {
            background-color: var(--bg);
            color: #ffffff;
            font-family: 'Inter', 'Segoe UI', sans-serif;
            margin: 0;
            height: 100vh;
            overflow: hidden;
            user-select: none;
            touch-action: none;
        }

        /* HUD AREA */
        #hud { position: fixed; top: 15px; left: 15px; pointer-events: none; z-index: 50; }
        .hud-mod { 
            color: var(--main); 
            font-weight: 800; 
            font-size: 16px; 
            text-transform: uppercase; 
            text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
            letter-spacing: 0.5px;
        }

        /* SYSTEM BUTTONS */
        #panic-trigger {
            position: fixed; top: 15px; right: 15px;
            background: #ff3e3e; color: white; border: none;
            padding: 10px 20px; border-radius: 5px; font-weight: bold;
            cursor: pointer; z-index: 1000; box-shadow: 0 4px 10px rgba(255, 62, 62, 0.4);
        }

        /* NAVIGATION & SEARCH */
        #nav-bar {
            position: absolute; top: 60px; width: 100%;
            display: flex; justify-content: center; gap: 12px;
        }
        .search-container {
            background: var(--win-bg); border: 1px solid var(--border);
            padding: 10px 15px; border-radius: 6px; display: flex; align-items: center;
        }
        #mod-search { background: transparent; border: none; color: white; outline: none; width: 160px; font-size: 14px; }

        /* CLICK GUI WINDOWS */
        .gui-window {
            position: absolute; width: 180px; background: var(--win-bg);
            border: 1px solid var(--border); border-radius: 5px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.7); z-index: 10;
        }
        .gui-header {
            background: var(--header); padding: 14px; text-align: center;
            font-size: 12px; font-weight: 900; cursor: grab;
            border-bottom: 2px solid var(--main); letter-spacing: 1px;
        }
        .mod-entry {
            padding: 12px 15px; font-size: 13px; color: #999;
            border-bottom: 1px solid #161616; cursor: pointer;
            transition: all 0.2s; position: relative;
        }
        .mod-entry:hover { background: #1a1a1a; color: #ccc; }
        .mod-entry.enabled { color: white; background: var(--main); font-weight: bold; }

        /* SETTINGS MODAL */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.85); display: none; z-index: 1500;
        }
        .settings-card {
            position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 320px; background: var(--win-bg); border: 1px solid var(--main);
            padding: 25px; display: none; z-index: 2000; border-radius: 10px;
            box-shadow: 0 0 40px var(--accent-glow);
        }
        .setting-item {
            display: flex; justify-content: space-between; align-items: center;
            margin: 15px 0; font-size: 14px;
        }
        .input-slider { width: 110px; accent-color: var(--main); }
        .input-check { width: 20px; height: 20px; accent-color: var(--main); }
        .input-select { background: #222; color: white; border: 1px solid #444; padding: 5px; border-radius: 4px; }

        /* FRIENDS UI */
        .friend-tag {
            background: var(--main); color: white; padding: 4px 10px;
            border-radius: 4px; margin: 4px; display: inline-block; font-size: 12px;
        }
    </style>
</head>
<body>

    <button id="panic-trigger" onclick="panicMode()">SERVER KICK (PANIC)</button>
    <div id="hud"></div>
    <div class="modal-overlay" id="blur-bg" onclick="closePopups()"></div>
    
    <div id="nav-bar">
        <div class="search-container"><input type="text" id="mod-search" placeholder="Search Module..." onkeyup="searchFilter(this.value)"></div>
        <div class="search-container" onclick="openFriendManager()" style="cursor:pointer; color:var(--main); font-weight:bold;">FRIENDS</div>
    </div>

    <div class="settings-card" id="config-popup">
        <h2 id="config-title" style="color:var(--main); margin-top:0; font-size: 18px;">Settings</h2>
        <div id="config-fields"></div>
        <button class="panic-trigger" style="background:var(--main); width:100%; border:none; color:white; padding:12px; margin-top:15px; border-radius:5px; font-weight:bold; cursor:pointer;" onclick="closePopups()">SAVE CONFIG</button>
    </div>

    <div class="settings-card" id="friend-popup">
        <h2 style="color:var(--main); margin-top:0; font-size: 18px;">FRIEND MANAGER</h2>
        <div style="display:flex; gap:10px;">
            <input type="text" id="friend-in" placeholder="Username..." style="background:#1a1a1a; border:1px solid #333; color:white; padding:8px; flex:1; border-radius:4px;">
            <button onclick="addNewFriend()" style="background:var(--main); border:none; color:white; padding:8px 15px; border-radius:4px; cursor:pointer;">ADD</button>
        </div>
        <div id="friend-list-display" style="margin-top:20px; min-height:60px;"></div>
        <button style="background:#333; width:100%; border:none; color:white; padding:12px; margin-top:15px; border-radius:5px; cursor:pointer;" onclick="closePopups()">BACK</button>
    </div>

    <script>
        const moduleRegistry = {
            "Combat": [
                { id: "killaura", name: "KillAura", each: { Range: 4.2, CPS: 12, Priority: ["Health", "Distance"], Teams: false } },
                { id: "velocity", name: "Velocity", each: { Horizontal: 0, Vertical: 0, Delay: 0 } },
                { id: "aimassist", name: "AimAssist", each: { Speed: 1.5, FOV: 90, ClickOnly: true } }
            ],
            "Movement": [
                { id: "fly", name: "Fly", each: { Speed: 2.0, Mode: ["Motion", "Vanilla", "Creative"], AntiKick: true } },
                { id: "speed", name: "Speed", each: { Multiplier: 1.2, Mode: ["Bhop", "Strafe", "OnGround"] } },
                { id: "noslow", name: "NoSlow", each: { Items: true, Soulsand: true } }
            ],
            "Visuals": [
                { id: "esp", name: "ESP", each: { Players: true, Friends: true, Box: true, Tracers: false, Color: "#5865f2" } },
                { id: "xray", name: "X-Ray", each: { Diamonds: true, Nettherite: true, Opacity: 120 } },
                { id: "nametags", name: "NameTags", each: { Scale: 1.0, Health: true, Distance: false } }
            ],
            "World": [
                { id: "scaffold", name: "Scaffold", each: { Delay: 50, Tower: true, Rotations: true } },
                { id: "fastplace", name: "FastPlace", each: { Delay: 0 } }
            ]
        };

        let activeModules = new Set();
        let friendsList = [];
        let userConfigs = {};

        function bootstrap() {
            let posX = 30, posY = 120;
            for (let category in moduleRegistry) {
                let win = document.createElement('div');
                win.className = 'gui-window';
                win.style.left = posX + 'px'; win.style.top = posY + 'px';
                
                let header = document.createElement('div');
                header.className = 'gui-header';
                header.textContent = category.toUpperCase();
                header.onclick = () => {
                    let list = win.querySelector('.mod-list');
                    list.style.display = list.style.display === 'none' ? 'block' : 'none';
                };
                
                let modContainer = document.createElement('div');
                modContainer.className = 'mod-list';
                
                moduleRegistry[category].forEach(mod => {
                    userConfigs[mod.id] = mod.each;
                    let modBtn = document.createElement('div');
                    modBtn.className = 'mod-entry';
                    modBtn.id = "btn-" + mod.id;
                    modBtn.textContent = mod.name;
                    
                    let holdTimer;
                    modBtn.ontouchstart = () => holdTimer = setTimeout(() => openModuleSettings(mod.id, mod.name), 600);
                    modBtn.ontouchend = () => clearTimeout(holdTimer);
                    modBtn.onclick = () => toggleModule(mod.id);
                    modBtn.ondblclick = () => openModuleSettings(mod.id, mod.name);
                    
                    modContainer.appendChild(modBtn);
                });
                
                win.appendChild(header); win.appendChild(modContainer);
                document.body.appendChild(win);
                initDrag(win, header);
                posX += 200;
            }
        }

        function toggleModule(id) {
            let el = document.getElementById("btn-" + id);
            if(activeModules.has(id)) {
                activeModules.delete(id);
                el.classList.remove('enabled');
            } else {
                activeModules.add(id);
                el.classList.add('enabled');
            }
            refreshHUD();
        }

        function panicMode() {
            activeModules.clear();
            document.querySelectorAll('.mod-entry').forEach(m => m.classList.remove('enabled'));
            refreshHUD();
            alert("SECURITY ALERT: All modules forced OFF.");
        }

        function openModuleSettings(id, name) {
            document.getElementById('config-title').textContent = name + " CONFIG";
            let container = document.getElementById('config-fields');
            container.innerHTML = '';
            
            let settings = userConfigs[id];
            for(let key in settings) {
                let row = document.createElement('div');
                row.className = 'setting-item';
                row.innerHTML = `<span>${key}</span>`;
                
                let val = settings[key];
                let field;
                
                if(typeof val === 'number') {
                    field = document.createElement('input');
                    field.className = 'input-slider';
                    field.type = 'range'; field.min = 0; field.max = 20; field.step = 0.1;
                    field.value = val;
                    field.oninput = (e) => settings[key] = parseFloat(e.target.value);
                } else if(typeof val === 'boolean') {
                    field = document.createElement('input');
                    field.className = 'input-check';
                    field.type = 'checkbox'; field.checked = val;
                    field.onchange = (e) => settings[key] = e.target.checked;
                } else if(Array.isArray(val)) {
                    field = document.createElement('select');
                    field.className = 'input-select';
                    val.forEach(o => { let opt = document.createElement('option'); opt.value = o; opt.textContent = o; field.appendChild(opt); });
                } else if(key === "Color") {
                    field = document.createElement('input');
                    field.type = 'color'; field.value = val;
                    field.oninput = (e) => settings[key] = e.target.value;
                }
                
                row.appendChild(field);
                container.appendChild(row);
            }
            document.getElementById('config-popup').style.display = 'block';
            document.getElementById('blur-bg').style.display = 'block';
        }

        function refreshHUD() {
            let h = document.getElementById('hud');
            h.innerHTML = Array.from(activeModules).map(id => {
                return `<div class="hud-mod">${id}</div>`;
            }).join('');
        }

        function openFriendManager() { document.getElementById('friend-popup').style.display = 'block'; document.getElementById('blur-bg').style.display = 'block'; }
        function addNewFriend() { 
            let input = document.getElementById('friend-in'); 
            if(input.value) { friendsList.push(input.value); input.value = ''; renderFriends(); } 
        }
        function renderFriends() { 
            document.getElementById('friend-list-display').innerHTML = friendsList.map(f => `<span class="friend-tag">${f}</span>`).join(''); 
        }
        function closePopups() { 
            document.querySelectorAll('.settings-card').forEach(m => m.style.display = 'none'); 
            document.getElementById('blur-bg').style.display = 'none'; 
        }

        function searchFilter(val) {
            let q = val.toLowerCase();
            document.querySelectorAll('.mod-entry').forEach(m => {
                m.style.display = m.textContent.toLowerCase().includes(q) ? 'block' : 'none';
            });
        }

        function initDrag(el, handle) {
            let dragging = false, startX, startY;
            const onStart = (e) => {
                dragging = true;
                let c = e.touches ? e.touches[0] : e;
                startX = c.clientX - el.offsetLeft;
                startY = c.clientY - el.offsetTop;
                el.style.zIndex = 100;
            };
            const onMove = (e) => {
                if(!dragging) return;
                let c = e.touches ? e.touches[0] : e;
                el.style.left = (c.clientX - startX) + 'px';
                el.style.top = (c.clientY - startY) + 'px';
            };
            const onEnd = () => { dragging = false; el.style.zIndex = 10; };
            handle.addEventListener('mousedown', onStart); handle.addEventListener('touchstart', onStart);
            window.addEventListener('mousemove', onMove); window.addEventListener('touchmove', onMove);
            window.addEventListener('mouseup', onEnd); window.addEventListener('touchend', onEnd);
        }

        bootstrap();
    </script>
</body>
</html>
